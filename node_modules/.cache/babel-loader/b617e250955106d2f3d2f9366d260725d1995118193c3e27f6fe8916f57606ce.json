{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DatabaseExport=()=>{const[exportFormat,setExportFormat]=useState('json');const[exportStatus,setExportStatus]=useState({status:'',message:''});const[includePositions,setIncludePositions]=useState(true);const[includeMetadata,setIncludeMetadata]=useState(true);const handleExportDatabase=async()=>{try{setExportStatus({status:'loading',message:'Exporting database...'});const response=await fetch('/api/export/database',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({format:exportFormat,includePositions,includeMetadata})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to export database');}const data=await response.json();setExportStatus({status:'success',message:'Database exported successfully!',downloadUrl:data.downloadUrl});}catch(error){console.error('Error exporting database:',error);setExportStatus({status:'error',message:error.message||'Failed to export database'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Export Database\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Export your entire skills database for backup or transfer to another system.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exportFormat\",className:\"form-label\",children:\"Export Format\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"exportFormat\",value:exportFormat,onChange:e=>setExportFormat(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"json\",children:\"JSON\"}),/*#__PURE__*/_jsx(\"option\",{value:\"xml\",children:\"XML\"}),/*#__PURE__*/_jsx(\"option\",{value:\"csv\",children:\"CSV\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"includePositions\",checked:includePositions,onChange:e=>setIncludePositions(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"includePositions\",children:\"Include Saved Positions\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"includeMetadata\",checked:includeMetadata,onChange:e=>setIncludeMetadata(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"includeMetadata\",children:\"Include Metadata (creation dates, author info)\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleExportDatabase,disabled:exportStatus.status==='loading',children:exportStatus.status==='loading'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Exporting Database...\"]}):'Export Database'})}),exportStatus.status==='success'&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{children:exportStatus.message}),/*#__PURE__*/_jsx(\"a\",{href:exportStatus.downloadUrl,className:\"btn btn-sm btn-success\",download:true,children:\"Download Database\"})]}),exportStatus.status==='error'&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3\",children:exportStatus.message})]})]});};export default DatabaseExport;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DatabaseExport","exportFormat","setExportFormat","exportStatus","setExportStatus","status","message","includePositions","setIncludePositions","includeMetadata","setIncludeMetadata","handleExportDatabase","response","fetch","method","headers","body","JSON","stringify","format","ok","errorData","json","Error","error","data","downloadUrl","console","className","children","htmlFor","id","value","onChange","e","target","type","checked","onClick","disabled","role","href","download"],"sources":["C:/Users/Perseus/Desktop/aira_website/src/components/DatabaseExport.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst DatabaseExport = () => {\r\n  const [exportFormat, setExportFormat] = useState('json');\r\n  const [exportStatus, setExportStatus] = useState({ status: '', message: '' });\r\n  const [includePositions, setIncludePositions] = useState(true);\r\n  const [includeMetadata, setIncludeMetadata] = useState(true);\r\n  \r\n  const handleExportDatabase = async () => {\r\n    try {\r\n      setExportStatus({ status: 'loading', message: 'Exporting database...' });\r\n      \r\n      const response = await fetch('/api/export/database', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          format: exportFormat,\r\n          includePositions,\r\n          includeMetadata\r\n        })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to export database');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      setExportStatus({ \r\n        status: 'success', \r\n        message: 'Database exported successfully!',\r\n        downloadUrl: data.downloadUrl\r\n      });\r\n    } catch (error) {\r\n      console.error('Error exporting database:', error);\r\n      setExportStatus({ \r\n        status: 'error', \r\n        message: error.message || 'Failed to export database'\r\n      });\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"card mb-4\">\r\n      <div className=\"card-header\">\r\n        <h3 className=\"card-title\">Export Database</h3>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <p>\r\n          Export your entire skills database for backup or transfer to another system.\r\n        </p>\r\n        \r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exportFormat\" className=\"form-label\">Export Format</label>\r\n          <select \r\n            className=\"form-select\" \r\n            id=\"exportFormat\"\r\n            value={exportFormat}\r\n            onChange={(e) => setExportFormat(e.target.value)}\r\n          >\r\n            <option value=\"json\">JSON</option>\r\n            <option value=\"xml\">XML</option>\r\n            <option value=\"csv\">CSV</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div className=\"mb-3\">\r\n          <div className=\"form-check\">\r\n            <input \r\n              className=\"form-check-input\" \r\n              type=\"checkbox\" \r\n              id=\"includePositions\"\r\n              checked={includePositions}\r\n              onChange={(e) => setIncludePositions(e.target.checked)}\r\n            />\r\n            <label className=\"form-check-label\" htmlFor=\"includePositions\">\r\n              Include Saved Positions\r\n            </label>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mb-3\">\r\n          <div className=\"form-check\">\r\n            <input \r\n              className=\"form-check-input\" \r\n              type=\"checkbox\" \r\n              id=\"includeMetadata\"\r\n              checked={includeMetadata}\r\n              onChange={(e) => setIncludeMetadata(e.target.checked)}\r\n            />\r\n            <label className=\"form-check-label\" htmlFor=\"includeMetadata\">\r\n              Include Metadata (creation dates, author info)\r\n            </label>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"d-grid gap-2\">\r\n          <button \r\n            className=\"btn btn-primary\" \r\n            onClick={handleExportDatabase}\r\n            disabled={exportStatus.status === 'loading'}\r\n          >\r\n            {exportStatus.status === 'loading' ? (\r\n              <>\r\n                <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                Exporting Database...\r\n              </>\r\n            ) : 'Export Database'}\r\n          </button>\r\n        </div>\r\n        \r\n        {exportStatus.status === 'success' && (\r\n          <div className=\"alert alert-success mt-3\">\r\n            <p>{exportStatus.message}</p>\r\n            <a \r\n              href={exportStatus.downloadUrl} \r\n              className=\"btn btn-sm btn-success\"\r\n              download\r\n            >\r\n              Download Database\r\n            </a>\r\n          </div>\r\n        )}\r\n        \r\n        {exportStatus.status === 'error' && (\r\n          <div className=\"alert alert-danger mt-3\">\r\n            {exportStatus.message}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DatabaseExport;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,MAAM,CAAC,CACxD,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,CAAEa,MAAM,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAG,CAAC,CAAC,CAC7E,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAACiB,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAE5D,KAAM,CAAAmB,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACFP,eAAe,CAAC,CAAEC,MAAM,CAAE,SAAS,CAAEC,OAAO,CAAE,uBAAwB,CAAC,CAAC,CAExE,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,sBAAsB,CAAE,CACnDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,MAAM,CAAElB,YAAY,CACpBM,gBAAgB,CAChBE,eACF,CAAC,CACH,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAC,KAAK,CAACF,SAAS,CAACG,KAAK,EAAI,2BAA2B,CAAC,CACjE,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAb,QAAQ,CAACU,IAAI,CAAC,CAAC,CAElClB,eAAe,CAAC,CACdC,MAAM,CAAE,SAAS,CACjBC,OAAO,CAAE,iCAAiC,CAC1CoB,WAAW,CAAED,IAAI,CAACC,WACpB,CAAC,CAAC,CACJ,CAAE,MAAOF,KAAK,CAAE,CACdG,OAAO,CAACH,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDpB,eAAe,CAAC,CACdC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAEkB,KAAK,CAAClB,OAAO,EAAI,2BAC5B,CAAC,CAAC,CACJ,CACF,CAAC,CAED,mBACET,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BlC,IAAA,OAAIiC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CAC5C,CAAC,cACNhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,MAAAkC,QAAA,CAAG,8EAEH,CAAG,CAAC,cAEJhC,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,UAAOmC,OAAO,CAAC,cAAc,CAACF,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cAC1EhC,KAAA,WACE+B,SAAS,CAAC,aAAa,CACvBG,EAAE,CAAC,cAAc,CACjBC,KAAK,CAAE/B,YAAa,CACpBgC,QAAQ,CAAGC,CAAC,EAAKhC,eAAe,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAH,QAAA,eAEjDlC,IAAA,WAAQqC,KAAK,CAAC,MAAM,CAAAH,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClClC,IAAA,WAAQqC,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChClC,IAAA,WAAQqC,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,cAENlC,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBhC,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlC,IAAA,UACEiC,SAAS,CAAC,kBAAkB,CAC5BQ,IAAI,CAAC,UAAU,CACfL,EAAE,CAAC,kBAAkB,CACrBM,OAAO,CAAE9B,gBAAiB,CAC1B0B,QAAQ,CAAGC,CAAC,EAAK1B,mBAAmB,CAAC0B,CAAC,CAACC,MAAM,CAACE,OAAO,CAAE,CACxD,CAAC,cACF1C,IAAA,UAAOiC,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAC,kBAAkB,CAAAD,QAAA,CAAC,yBAE/D,CAAO,CAAC,EACL,CAAC,CACH,CAAC,cAENlC,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBhC,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlC,IAAA,UACEiC,SAAS,CAAC,kBAAkB,CAC5BQ,IAAI,CAAC,UAAU,CACfL,EAAE,CAAC,iBAAiB,CACpBM,OAAO,CAAE5B,eAAgB,CACzBwB,QAAQ,CAAGC,CAAC,EAAKxB,kBAAkB,CAACwB,CAAC,CAACC,MAAM,CAACE,OAAO,CAAE,CACvD,CAAC,cACF1C,IAAA,UAAOiC,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAC,iBAAiB,CAAAD,QAAA,CAAC,gDAE9D,CAAO,CAAC,EACL,CAAC,CACH,CAAC,cAENlC,IAAA,QAAKiC,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BlC,IAAA,WACEiC,SAAS,CAAC,iBAAiB,CAC3BU,OAAO,CAAE3B,oBAAqB,CAC9B4B,QAAQ,CAAEpC,YAAY,CAACE,MAAM,GAAK,SAAU,CAAAwB,QAAA,CAE3C1B,YAAY,CAACE,MAAM,GAAK,SAAS,cAChCR,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eACElC,IAAA,SAAMiC,SAAS,CAAC,uCAAuC,CAACY,IAAI,CAAC,QAAQ,CAAC,cAAY,MAAM,CAAO,CAAC,wBAElG,EAAE,CAAC,CACD,iBAAiB,CACf,CAAC,CACN,CAAC,CAELrC,YAAY,CAACE,MAAM,GAAK,SAAS,eAChCR,KAAA,QAAK+B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvClC,IAAA,MAAAkC,QAAA,CAAI1B,YAAY,CAACG,OAAO,CAAI,CAAC,cAC7BX,IAAA,MACE8C,IAAI,CAAEtC,YAAY,CAACuB,WAAY,CAC/BE,SAAS,CAAC,wBAAwB,CAClCc,QAAQ,MAAAb,QAAA,CACT,mBAED,CAAG,CAAC,EACD,CACN,CAEA1B,YAAY,CAACE,MAAM,GAAK,OAAO,eAC9BV,IAAA,QAAKiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACrC1B,YAAY,CAACG,OAAO,CAClB,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}