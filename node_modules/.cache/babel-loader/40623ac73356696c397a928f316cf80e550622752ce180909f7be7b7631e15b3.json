{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import*as tf from'@tensorflow/tfjs';import ReactPlayer from'react-player';import'./VideoSearch.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VideoSearch=()=>{const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[model,setModel]=useState(null);const[modelLoading,setModelLoading]=useState(true);const[selectedTags,setSelectedTags]=useState([]);const[availableTags,setAvailableTags]=useState(['walking','running','jumping','dancing','sitting','standing','arms','legs','full-body','precision','balance','speed']);const navigate=useNavigate();const searchInputRef=useRef(null);// Load TensorFlow model on component mount\nuseEffect(()=>{const loadModel=async()=>{try{setModelLoading(true);// Load MobileNet model for image classification\n// This will be used for video frame analysis\nconst loadedModel=await tf.loadLayersModel('https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_0.25_224/model.json');setModel(loadedModel);console.log('AI model loaded successfully');setModelLoading(false);}catch(err){console.error('Failed to load AI model:',err);setError('Failed to load AI model. Some search features may be limited.');setModelLoading(false);}};loadModel();// Focus search input on component mount\nif(searchInputRef.current){searchInputRef.current.focus();}return()=>{// Cleanup if needed\n};},[]);// Handle search form submission\nconst handleSearch=async e=>{e.preventDefault();if(!searchQuery.trim()&&selectedTags.length===0){return;}try{setIsLoading(true);setError(null);// Call the search API\nconst response=await fetch(`/api/videos/search?query=${encodeURIComponent(searchQuery)}&tags=${selectedTags.join(',')}`);if(!response.ok){throw new Error('Failed to search videos');}const data=await response.json();setSearchResults(data.results||[]);setIsLoading(false);}catch(err){console.error('Error searching videos:',err);setError(err.message||'An error occurred while searching videos');setIsLoading(false);}};// Handle tag selection\nconst toggleTag=tag=>{if(selectedTags.includes(tag)){setSelectedTags(selectedTags.filter(t=>t!==tag));}else{setSelectedTags([...selectedTags,tag]);}};// Navigate to video detail page\nconst handleVideoClick=videoId=>{navigate(`/videos/${videoId}`);};// Analyze video content with AI (for demonstration purposes)\nconst analyzeVideoContent=async videoUrl=>{if(!model)return null;try{// In a real implementation, this would:\n// 1. Extract frames from the video\n// 2. Process each frame through the AI model\n// 3. Aggregate results to identify actions, objects, etc.\n// For demonstration, we'll return mock analysis results\nreturn{actions:['walking','turning','gesturing'],objects:['person','robot'],confidence:0.87};}catch(err){console.error('Error analyzing video content:',err);return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"video-search-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"AI Video Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"search-description\",children:\"Search for videos by keywords or select tags to find robot movements and skills\"})]}),modelLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"model-loading-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading AI model...\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading AI search capabilities...\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"search-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search for robot movements, skills, or actions...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),ref:searchInputRef}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",disabled:isLoading,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Searching...\"]}):'Search'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags-container mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"tags-label\",children:\"Filter by tags:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tags-list\",children:availableTags.map(tag=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`tag-button ${selectedTags.includes(tag)?'selected':''}`,onClick:()=>toggleTag(tag),children:tag},tag))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Searching videos...\"})]}):searchResults.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Search Results\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:searchResults.map(video=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card video-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-thumbnail\",onClick:()=>handleVideoClick(video.id),children:[video.thumbnailUrl?/*#__PURE__*/_jsx(\"img\",{src:video.thumbnailUrl,alt:video.title,className:\"card-img-top\"}):/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-thumbnail\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-film\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"video-duration\",children:video.duration})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:video.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:video.description}),/*#__PURE__*/_jsx(\"div\",{className:\"video-tags\",children:video.tags&&video.tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary me-1\",children:tag},tag))}),/*#__PURE__*/_jsx(\"div\",{className:\"video-meta mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Uploaded: \",new Date(video.uploadDate).toLocaleDateString()]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-primary\",onClick:()=>handleVideoClick(video.id),children:\"View Details\"})})]})},video.id))})]}):searchQuery||selectedTags.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-results\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No videos found matching your search criteria.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Try different keywords or tags.\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"search-instructions\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"How to use AI Video Search\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Enter keywords related to robot movements or skills\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Select tags to filter by specific categories\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Our AI will analyze video content to find relevant matches\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Click on a video to view details and extract DOF data\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Popular Searches\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"popular-searches\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary me-2 mb-2\",onClick:()=>{setSearchQuery('walking pattern');handleSearch({preventDefault:()=>{}});},children:\"Walking Pattern\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary me-2 mb-2\",onClick:()=>{setSearchQuery('arm movement');handleSearch({preventDefault:()=>{}});},children:\"Arm Movement\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary me-2 mb-2\",onClick:()=>{setSearchQuery('precision grasping');handleSearch({preventDefault:()=>{}});},children:\"Precision Grasping\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary me-2 mb-2\",onClick:()=>{setSearchQuery('balance');handleSearch({preventDefault:()=>{}});},children:\"Balance\"})]})]})]})})]});};export default VideoSearch;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","tf","ReactPlayer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoSearch","searchQuery","setSearchQuery","searchResults","setSearchResults","isLoading","setIsLoading","error","setError","model","setModel","modelLoading","setModelLoading","selectedTags","setSelectedTags","availableTags","setAvailableTags","navigate","searchInputRef","loadModel","loadedModel","loadLayersModel","console","log","err","current","focus","handleSearch","e","preventDefault","trim","length","response","fetch","encodeURIComponent","join","ok","Error","data","json","results","message","toggleTag","tag","includes","filter","t","handleVideoClick","videoId","analyzeVideoContent","videoUrl","actions","objects","confidence","className","children","role","onSubmit","type","placeholder","value","onChange","target","ref","disabled","map","onClick","video","id","thumbnailUrl","src","alt","title","duration","description","tags","Date","uploadDate","toLocaleDateString"],"sources":["C:/Users/Perseus/Desktop/aira_website/src/pages/VideoSearch/VideoSearch.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as tf from '@tensorflow/tfjs';\r\nimport ReactPlayer from 'react-player';\r\nimport './VideoSearch.css';\r\n\r\nconst VideoSearch = () => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [model, setModel] = useState(null);\r\n  const [modelLoading, setModelLoading] = useState(true);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [availableTags, setAvailableTags] = useState([\r\n    'walking', 'running', 'jumping', 'dancing', 'sitting', 'standing',\r\n    'arms', 'legs', 'full-body', 'precision', 'balance', 'speed'\r\n  ]);\r\n  \r\n  const navigate = useNavigate();\r\n  const searchInputRef = useRef(null);\r\n  \r\n  // Load TensorFlow model on component mount\r\n  useEffect(() => {\r\n    const loadModel = async () => {\r\n      try {\r\n        setModelLoading(true);\r\n        // Load MobileNet model for image classification\r\n        // This will be used for video frame analysis\r\n        const loadedModel = await tf.loadLayersModel('https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_0.25_224/model.json');\r\n        setModel(loadedModel);\r\n        console.log('AI model loaded successfully');\r\n        setModelLoading(false);\r\n      } catch (err) {\r\n        console.error('Failed to load AI model:', err);\r\n        setError('Failed to load AI model. Some search features may be limited.');\r\n        setModelLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadModel();\r\n    \r\n    // Focus search input on component mount\r\n    if (searchInputRef.current) {\r\n      searchInputRef.current.focus();\r\n    }\r\n    \r\n    return () => {\r\n      // Cleanup if needed\r\n    };\r\n  }, []);\r\n  \r\n  // Handle search form submission\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!searchQuery.trim() && selectedTags.length === 0) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      \r\n      // Call the search API\r\n      const response = await fetch(`/api/videos/search?query=${encodeURIComponent(searchQuery)}&tags=${selectedTags.join(',')}`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to search videos');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSearchResults(data.results || []);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      console.error('Error searching videos:', err);\r\n      setError(err.message || 'An error occurred while searching videos');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Handle tag selection\r\n  const toggleTag = (tag) => {\r\n    if (selectedTags.includes(tag)) {\r\n      setSelectedTags(selectedTags.filter(t => t !== tag));\r\n    } else {\r\n      setSelectedTags([...selectedTags, tag]);\r\n    }\r\n  };\r\n  \r\n  // Navigate to video detail page\r\n  const handleVideoClick = (videoId) => {\r\n    navigate(`/videos/${videoId}`);\r\n  };\r\n  \r\n  // Analyze video content with AI (for demonstration purposes)\r\n  const analyzeVideoContent = async (videoUrl) => {\r\n    if (!model) return null;\r\n    \r\n    try {\r\n      // In a real implementation, this would:\r\n      // 1. Extract frames from the video\r\n      // 2. Process each frame through the AI model\r\n      // 3. Aggregate results to identify actions, objects, etc.\r\n      \r\n      // For demonstration, we'll return mock analysis results\r\n      return {\r\n        actions: ['walking', 'turning', 'gesturing'],\r\n        objects: ['person', 'robot'],\r\n        confidence: 0.87\r\n      };\r\n    } catch (err) {\r\n      console.error('Error analyzing video content:', err);\r\n      return null;\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"video-search-container\">\r\n      <div className=\"search-header\">\r\n        <h2>AI Video Search</h2>\r\n        <p className=\"search-description\">\r\n          Search for videos by keywords or select tags to find robot movements and skills\r\n        </p>\r\n      </div>\r\n      \r\n      {modelLoading && (\r\n        <div className=\"model-loading-message\">\r\n          <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading AI model...</span>\r\n          </div>\r\n          <p>Loading AI search capabilities...</p>\r\n        </div>\r\n      )}\r\n      \r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleSearch} className=\"search-form\">\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Search for robot movements, skills, or actions...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            ref={searchInputRef}\r\n          />\r\n          <button \r\n            className=\"btn btn-primary\" \r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                Searching...\r\n              </>\r\n            ) : 'Search'}\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"tags-container mb-4\">\r\n          <p className=\"tags-label\">Filter by tags:</p>\r\n          <div className=\"tags-list\">\r\n            {availableTags.map(tag => (\r\n              <button\r\n                key={tag}\r\n                type=\"button\"\r\n                className={`tag-button ${selectedTags.includes(tag) ? 'selected' : ''}`}\r\n                onClick={() => toggleTag(tag)}\r\n              >\r\n                {tag}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </form>\r\n      \r\n      <div className=\"search-results\">\r\n        {isLoading ? (\r\n          <div className=\"text-center my-5\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n            <p className=\"mt-2\">Searching videos...</p>\r\n          </div>\r\n        ) : searchResults.length > 0 ? (\r\n          <>\r\n            <h3>Search Results</h3>\r\n            <div className=\"row\">\r\n              {searchResults.map(video => (\r\n                <div className=\"col-md-4 mb-4\" key={video.id}>\r\n                  <div className=\"card video-card\">\r\n                    <div className=\"video-thumbnail\" onClick={() => handleVideoClick(video.id)}>\r\n                      {video.thumbnailUrl ? (\r\n                        <img \r\n                          src={video.thumbnailUrl} \r\n                          alt={video.title} \r\n                          className=\"card-img-top\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"placeholder-thumbnail\">\r\n                          <i className=\"bi bi-film\"></i>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"video-duration\">{video.duration}</div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">{video.title}</h5>\r\n                      <p className=\"card-text\">{video.description}</p>\r\n                      <div className=\"video-tags\">\r\n                        {video.tags && video.tags.map(tag => (\r\n                          <span key={tag} className=\"badge bg-secondary me-1\">{tag}</span>\r\n                        ))}\r\n                      </div>\r\n                      <div className=\"video-meta mt-2\">\r\n                        <small className=\"text-muted\">\r\n                          Uploaded: {new Date(video.uploadDate).toLocaleDateString()}\r\n                        </small>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-footer\">\r\n                      <button \r\n                        className=\"btn btn-sm btn-outline-primary\"\r\n                        onClick={() => handleVideoClick(video.id)}\r\n                      >\r\n                        View Details\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        ) : searchQuery || selectedTags.length > 0 ? (\r\n          <div className=\"no-results\">\r\n            <p>No videos found matching your search criteria.</p>\r\n            <p>Try different keywords or tags.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"search-instructions\">\r\n            <h3>How to use AI Video Search</h3>\r\n            <ul>\r\n              <li>Enter keywords related to robot movements or skills</li>\r\n              <li>Select tags to filter by specific categories</li>\r\n              <li>Our AI will analyze video content to find relevant matches</li>\r\n              <li>Click on a video to view details and extract DOF data</li>\r\n            </ul>\r\n            <div className=\"mt-4\">\r\n              <h4>Popular Searches</h4>\r\n              <div className=\"popular-searches\">\r\n                <button \r\n                  className=\"btn btn-sm btn-outline-secondary me-2 mb-2\"\r\n                  onClick={() => {\r\n                    setSearchQuery('walking pattern');\r\n                    handleSearch({ preventDefault: () => {} });\r\n                  }}\r\n                >\r\n                  Walking Pattern\r\n                </button>\r\n                <button \r\n                  className=\"btn btn-sm btn-outline-secondary me-2 mb-2\"\r\n                  onClick={() => {\r\n                    setSearchQuery('arm movement');\r\n                    handleSearch({ preventDefault: () => {} });\r\n                  }}\r\n                >\r\n                  Arm Movement\r\n                </button>\r\n                <button \r\n                  className=\"btn btn-sm btn-outline-secondary me-2 mb-2\"\r\n                  onClick={() => {\r\n                    setSearchQuery('precision grasping');\r\n                    handleSearch({ preventDefault: () => {} });\r\n                  }}\r\n                >\r\n                  Precision Grasping\r\n                </button>\r\n                <button \r\n                  className=\"btn btn-sm btn-outline-secondary me-2 mb-2\"\r\n                  onClick={() => {\r\n                    setSearchQuery('balance');\r\n                    handleSearch({ preventDefault: () => {} });\r\n                  }}\r\n                >\r\n                  Balance\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoSearch;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}