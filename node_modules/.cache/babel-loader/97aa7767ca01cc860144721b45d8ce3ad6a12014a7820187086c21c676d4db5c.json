{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SkillList=()=>{const[skills,setSkills]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchSkills();},[]);const fetchSkills=async()=>{try{setLoading(true);const response=await fetch('/api/skills');if(!response.ok){throw new Error('Failed to fetch skills');}const data=await response.json();setSkills(data);setLoading(false);}catch(error){setError(error.message);setLoading(false);}};const handleDeleteSkill=async id=>{if(!window.confirm('Are you sure you want to delete this skill?')){return;}try{const response=await fetch(`/api/skills/${id}`,{method:'DELETE'});if(!response.ok){throw new Error('Failed to delete skill');}// Refresh skills list\nfetchSkills();}catch(error){setError(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Robot Skills\"}),/*#__PURE__*/_jsx(Link,{to:\"/export\",className:\"btn btn-primary\",children:\"Create New Skill\"})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"Loading skills...\"})]}):error?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}):skills.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center my-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"You haven't created any skills yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/export\",className:\"btn btn-primary mt-3\",children:\"Create Your First Skill\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:skills.map(skill=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card skill-card h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mb-0\",children:skill.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:skill.description||'No description provided'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small\",children:[\"Created: \",new Date(skill.exportDate).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer bg-transparent d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{to:`/skills/${skill.id}`,className:\"btn btn-sm btn-outline-primary\",children:\"View Details\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:`/api/download/${skill.id}`,className:\"btn btn-sm btn-outline-success me-2\",download:true,children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:()=>handleDeleteSkill(skill.id),children:\"Delete\"})]})]})]})},skill.id))})]});};export default SkillList;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","SkillList","skills","setSkills","loading","setLoading","error","setError","fetchSkills","response","fetch","ok","Error","data","json","message","handleDeleteSkill","id","window","confirm","method","className","children","to","length","map","skill","name","description","Date","exportDate","toLocaleDateString","href","download","onClick"],"sources":["C:/Users/Perseus/Desktop/aira_website/src/pages/SkillList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SkillList = () => {\r\n  const [skills, setSkills] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchSkills();\r\n  }, []);\r\n\r\n  const fetchSkills = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('/api/skills');\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch skills');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSkills(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSkill = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this skill?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await fetch(`/api/skills/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete skill');\r\n      }\r\n      \r\n      // Refresh skills list\r\n      fetchSkills();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>My Robot Skills</h2>\r\n        <Link to=\"/export\" className=\"btn btn-primary\">\r\n          Create New Skill\r\n        </Link>\r\n      </div>\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center my-5\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p className=\"mt-3\">Loading skills...</p>\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"alert alert-danger\">\r\n          {error}\r\n        </div>\r\n      ) : skills.length === 0 ? (\r\n        <div className=\"text-center my-5\">\r\n          <p className=\"lead\">You haven't created any skills yet.</p>\r\n          <Link to=\"/export\" className=\"btn btn-primary mt-3\">\r\n            Create Your First Skill\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"row\">\r\n          {skills.map(skill => (\r\n            <div className=\"col-md-4 mb-4\" key={skill.id}>\r\n              <div className=\"card skill-card h-100\">\r\n                <div className=\"card-header\">\r\n                  <h5 className=\"card-title mb-0\">{skill.name}</h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <p className=\"card-text\">\r\n                    {skill.description || 'No description provided'}\r\n                  </p>\r\n                  <p className=\"text-muted small\">\r\n                    Created: {new Date(skill.exportDate).toLocaleDateString()}\r\n                  </p>\r\n                </div>\r\n                <div className=\"card-footer bg-transparent d-flex justify-content-between\">\r\n                  <Link to={`/skills/${skill.id}`} className=\"btn btn-sm btn-outline-primary\">\r\n                    View Details\r\n                  </Link>\r\n                  <div>\r\n                    <a \r\n                      href={`/api/download/${skill.id}`} \r\n                      className=\"btn btn-sm btn-outline-success me-2\"\r\n                      download\r\n                    >\r\n                      Download\r\n                    </a>\r\n                    <button \r\n                      className=\"btn btn-sm btn-outline-danger\"\r\n                      onClick={() => handleDeleteSkill(skill.id)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkillList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}