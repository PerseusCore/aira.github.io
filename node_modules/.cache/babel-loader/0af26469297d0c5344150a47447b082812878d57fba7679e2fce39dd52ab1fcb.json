{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import SkillCard from'../components/SkillCard';import LoadingSpinner from'../components/LoadingSpinner';import DatabaseExport from'../components/DatabaseExport';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SkillList=()=>{const[skills,setSkills]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showExportPanel,setShowExportPanel]=useState(false);useEffect(()=>{fetchSkills();},[]);const fetchSkills=async()=>{try{setLoading(true);const response=await fetch('/api/skills');if(!response.ok){throw new Error('Failed to fetch skills');}const data=await response.json();setSkills(data);setLoading(false);}catch(error){setError(error.message);setLoading(false);}};const handleDeleteSkill=async(id,name)=>{if(!window.confirm(`Are you sure you want to delete the skill \"${name}\"?`)){return;}try{const response=await fetch(`/api/skills/${id}`,{method:'DELETE'});if(!response.ok){throw new Error('Failed to delete skill');}// Refresh skills list\nfetchSkills();}catch(error){setError(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Robot Skills\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary me-2\",onClick:()=>setShowExportPanel(!showExportPanel),children:showExportPanel?'Hide Export Panel':'Export Database'}),/*#__PURE__*/_jsx(Link,{to:\"/export\",className:\"btn btn-primary\",children:\"Create New Skill\"})]})]}),showExportPanel&&/*#__PURE__*/_jsx(DatabaseExport,{}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-5\",children:/*#__PURE__*/_jsx(LoadingSpinner,{text:\"Loading skills...\"})}):error?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}):skills.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center my-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"You haven't created any skills yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/export\",className:\"btn btn-primary mt-3\",children:\"Create Your First Skill\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:skills.map(skill=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsx(SkillCard,{skill:skill,onDelete:()=>handleDeleteSkill(skill.id,skill.name)})},skill.id))})]});};export default SkillList;","map":{"version":3,"names":["React","useState","useEffect","Link","SkillCard","LoadingSpinner","DatabaseExport","jsx","_jsx","jsxs","_jsxs","SkillList","skills","setSkills","loading","setLoading","error","setError","showExportPanel","setShowExportPanel","fetchSkills","response","fetch","ok","Error","data","json","message","handleDeleteSkill","id","name","window","confirm","method","className","children","onClick","to","text","length","map","skill","onDelete"],"sources":["C:/Users/Perseus/Desktop/aira_website/src/pages/SkillList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SkillCard from '../components/SkillCard';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport DatabaseExport from '../components/DatabaseExport';\r\n\r\nconst SkillList = () => {\r\n  const [skills, setSkills] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showExportPanel, setShowExportPanel] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchSkills();\r\n  }, []);\r\n\r\n  const fetchSkills = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('/api/skills');\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch skills');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSkills(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSkill = async (id, name) => {\r\n    if (!window.confirm(`Are you sure you want to delete the skill \"${name}\"?`)) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await fetch(`/api/skills/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete skill');\r\n      }\r\n      \r\n      // Refresh skills list\r\n      fetchSkills();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>My Robot Skills</h2>\r\n        <div>\r\n          <button \r\n            className=\"btn btn-outline-primary me-2\"\r\n            onClick={() => setShowExportPanel(!showExportPanel)}\r\n          >\r\n            {showExportPanel ? 'Hide Export Panel' : 'Export Database'}\r\n          </button>\r\n          <Link to=\"/export\" className=\"btn btn-primary\">\r\n            Create New Skill\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      \r\n      {showExportPanel && (\r\n        <DatabaseExport />\r\n      )}\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center my-5\">\r\n          <LoadingSpinner text=\"Loading skills...\" />\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"alert alert-danger\">\r\n          {error}\r\n        </div>\r\n      ) : skills.length === 0 ? (\r\n        <div className=\"text-center my-5\">\r\n          <p className=\"lead\">You haven't created any skills yet.</p>\r\n          <Link to=\"/export\" className=\"btn btn-primary mt-3\">\r\n            Create Your First Skill\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"row\">\r\n          {skills.map(skill => (\r\n            <div className=\"col-md-4 mb-4\" key={skill.id}>\r\n              <SkillCard \r\n                skill={skill} \r\n                onDelete={() => handleDeleteSkill(skill.id, skill.name)} \r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkillList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}